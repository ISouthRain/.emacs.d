<p data-pid="0jSbey3W">这个问题可以归结成旅行商问题（TSP），即「给定一系列城市和每对城市之间的距离，求解访问每一座城市一次并回到起始城市的最短回路」<sup data-text="wikipedia, 旅行商问题" data-url="https://zh.wikipedia.org/wiki/旅行推销员问题" data-draft-node="inline" data-draft-type="reference" data-numero="1">[1]</sup>。这是个NP-hard的问题，但对于原神的17个神像，要精确求解仍然非常简单。很多软件里都有现成的算法可以用，关键是数据怎么提取。</p><p data-pid="XrAbXTr3">我从<a href="//link.zhihu.com/?target=https%3A//genshin-impact-map.appsample.com/" class=" wrap external" target="_blank" rel="nofollow noreferrer">这个网站</a>截了个图。本想看看源代码里有没有神像位置的数据，无奈代码太过繁杂，没有找到数据。所以我直接用图像匹配的方法搞到了数据。</p><p><img src="https://pic4.zhimg.com/v2-4a89f1e7316f21729884c64b541d105d_720w.jpg?source=b1748391?rss" data-caption="" data-size="normal" data-rawwidth="390" data-rawheight="484" data-watermark="watermark" data-original-src="v2-4a89f1e7316f21729884c64b541d105d" data-watermark-src="v2-dae9a2c7f826ab84faea96c9562f6e70" data-private-watermark-src="v2-c1b20fc10708f104cd229bea518a9f14" style="max-width: 400px;"></p><p data-pid="NaLsjnk4">思路很简单：用神像的图标作为模板，算每个点的相似度。然后找一个阈值，得到黑白的图像：</p><p><img src="https://picx.zhimg.com/v2-5d360f4b97f53412cb7371ca2360e201_720w.jpg?source=b1748391?rss" data-caption="图里的白点就是神像的位置" data-size="normal" data-rawwidth="547" data-rawheight="672" data-watermark="watermark" data-original-src="v2-5d360f4b97f53412cb7371ca2360e201" data-watermark-src="v2-21e6bd95ff7cbb3c4d926ee7d40dce51" data-private-watermark-src="v2-6960b87369b25dd5f19285fb486d2879" style="max-width: 400px;"></p><p data-pid="8Msn_bA8">提取所有白色像素的位置，再用K-Means做个聚类，算一下均值，就得到了每个神像的坐标了：</p><p><img src="https://pic2.zhimg.com/v2-13333e0331b0ab5ce3dcab3f5ff00c7e_720w.jpg?source=b1748391?rss" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="528" data-watermark="watermark" data-original-src="v2-13333e0331b0ab5ce3dcab3f5ff00c7e" data-watermark-src="v2-ed7c7fa18faa71f1e03e22699c5901dd" data-private-watermark-src="v2-ece63009868e032f521f0863e4c43b05" style="max-width: 400px;"></p><p data-pid="GlVgBBqP">找TSP最短路径倒是非常简单，Mathematica内置了FindShortestTour函数，直接就把结果给出来了：</p><p><img src="https://pic3.zhimg.com/v2-4a65d1465f47092887057e3d1995c2b5_720w.jpg?source=b1748391?rss" data-caption="" data-size="normal" data-rawwidth="588" data-rawheight="639" data-watermark="watermark" data-original-src="v2-4a65d1465f47092887057e3d1995c2b5" data-watermark-src="v2-5f1be4a54c8497530f20e845b3c2bdfb" data-private-watermark-src="v2-50c0a60cea1cca5f6e558a18a665d04f" style="max-width: 400px;"></p><p data-pid="-cdnJBZi">当然，这里还只是个近似。实际情况中，要考虑地形（水、墙、山地等），问题会复杂很多。但大体的路线应该差不了多少。</p><hr><p data-pid="P9uUt1_q">考虑稻妻不能直接走过去，分开算的话是这样的：</p><p><img src="https://pica.zhimg.com/v2-4ebfe4a7b23775da1e61ed206abae99f_720w.png?source=b1748391?rss" data-caption="" data-size="normal" data-rawwidth="478" data-rawheight="592" data-watermark="watermark" data-original-src="v2-4ebfe4a7b23775da1e61ed206abae99f" data-watermark-src="v2-9a6967e7826e503953c3c19760901a2e" data-private-watermark-src="v2-b3bc86ebfd1a11a080ad3181ce1739f1" style="max-width: 400px;"></p><p></p>
<br><br>
来源：知乎 www.zhihu.com<br>
    
作者：<a href="http://www.zhihu.com/question/544325397/answer/2583790425?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title">知乎用户（登录查看详情）</a><br>
            
<br>
【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。
        <a href="http://daily.zhihu.com?utm_source=rssyanwenzi&utm_campaign=tuijian&utm_medium=rssnormal" target="_blank">点击下载</a><br>
<br>
此问题还有 <a href="http://www.zhihu.com/question/544325397/answer/2583790425?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title" target="_blank">5 个回答，查看全部。</a><br>
                延伸阅读：<br>
<a href="http://www.zhihu.com/question/529155866?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title" target="_blank">《原神》中神里绫人圣遗物怎么选择？</a><br>
            
<a href="http://www.zhihu.com/question/514637515?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title" target="_blank">原神深境螺旋什么时候才会开放呢?</a><br>
            